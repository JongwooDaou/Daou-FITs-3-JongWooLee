# TIL: JAVA
## 학습날짜: 2025년 2월 11일

## Problem:
- 이론적으로만 알고있는 MVC패턴과 4계층 Layered Architecture

## Solution:
- JavaFX 활용하여 controllerd와 같은 여러 layer 구현을 통한 실습

## What I Learned

### JavaFX
- 표준 GUI 라이브러리였던 Swing을 대체하기 위해 만들어진 GUI 라이브러리
```java
import javafx.application.Application;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.layout.StackPane;
import javafx.stage.Stage;

public class Main extends Application {
    @Override
    public void start(Stage stage) throws Exception {
        //  화면 구성과 이벤트 처리에 대한 코드가 나옴
        //  Stage 내부에 Scene, Layout manager, Component 가 겹겹히 들어감
        Button btn = new Button();
        btn.setText("click");
        //  Button 이 Event source 가 됨
        //  Handler 가 있어야 Event 처리 가능
        //  Mouse 통해 버튼 클릭 => Action event

        //  Action Event 에 대한 EventHandler 설정
        btn.setOnAction(
            event -> {
                //  event 처리 필요할 때 자동으로 호출
                System.out.println("event clicked");
            }
        );

        //  생성한 버튼을 Layout Manager 에 부착
        StackPane root = new StackPane();
        root.getChildren().add(btn);
        //  Scene 설정
        Scene scene = new Scene(root, 300, 200);
        //  Stage 에 Scene 올리기
        stage.setScene(scene);

        //  show stage
        stage.show();
    }

    public static void main(String[] args) {
        launch(args);
    }
}
```

### event 처리 ( delegation mode )
- event source ( event 발생 객체)
- event 객체 ( 자동 생성 ) ( event 에 대한 세부 정보를 포함 )
- event 처리 객체 ( handler )

### VO, DO, Entity, DTO
- `VO`란 도메인에서 한 개 또는 그 이상의 속성들을 묶어서 특정 값을 나타내는 객체를 의미
- `VO`는 테이블의 한 줄(row) 데이터를 저장하기 위한 객체를 의미합니다.
- `VO`는 도메인 객체(`DO`)의 일종이고 보통 기본 키(Primary Key)로 식별 값을 갖는 `Entity`와 구별해서 사용
- 데이터의 전달을 주 목적으로 하는 `DTO`와도 의미가  다르지만 형태가 거의 비슷하기 때문에 모두 같은 의미로 사용
- `vo` 예시
```java
public class Book {
    private String bisbn;
    private String btitle;
    private String bdate;
    private int bpages;
    private int bprice;
    private String bauthor;
    private String btranslator;
    private String bpublisher;
    private String bimgurl;

    public Book() {
    }

    public Book(String bisbn, String btitle, int bprice, String bauthor) {
        this.bisbn = bisbn;
        this.btitle = btitle;
        this.bprice = bprice;
        this.bauthor = bauthor;
    }


    // Setter & Gettrer
    public String getBisbn() {
        return bisbn;
    }

    public void setBisbn(String bisbn) {
        this.bisbn = bisbn;
    }

    public String getBtitle() {
        return btitle;
    }

    public void setBtitle(String btitle) {
        this.btitle = btitle;
    }

    public String getBdate() {
        return bdate;
    }

    public void setBdate(String bdate) {
        this.bdate = bdate;
    }

    public int getBpages() {
        return bpages;
    }

    public void setBpages(int bpages) {
        this.bpages = bpages;
    }

    public int getBprice() {
        return bprice;
    }

    public void setBprice(int bprice) {
        this.bprice = bprice;
    }

    public String getBauthor() {
        return bauthor;
    }

    public void setBauthor(String bauthor) {
        this.bauthor = bauthor;
    }

    public String getBtranslator() {
        return btranslator;
    }

    public void setBtranslator(String btranslator) {
        this.btranslator = btranslator;
    }

    public String getBpublisher() {
        return bpublisher;
    }

    public void setBpublisher(String bpublisher) {
        this.bpublisher = bpublisher;
    }

    public String getBimgurl() {
        return bimgurl;
    }

    public void setBimgurl(String bimgurl) {
        this.bimgurl = bimgurl;
    }
}
```

### Layered Architecture [4계층]
- `presentation layer` 사용자와 직접 교류하는 layer (입출력 처리)
- `buisness logic layer` logic을 처리하는 layer (데이터베이스 처리는 하지 않음)
- `Persistence layer` 데이터베이스에 접근하는 layer
- `Database layer` 물리적인 실제 데이터베이스 layer (oracle, MySQL ...)

### MVC(Model - View - Controller)
- `Model` Data Model(VO), Service Model(로직 처리 전담 객체) -> 데이터베이스 로직 처리는 따로 분리하여 DAO(Data Access Object)에서 진행
- `view` 입출력 당담 (Presentation Layer)
- `Controller` View와 Model을 연결 
